JDK 8 MOOC: Lesson 3-4

Using collectors

Collectors are terminal operators. They perform a mutable reduction on a stream. 
	- Results are given into a result container (can be a list, Map, String, etc)
The method 'collect()' terminates the stream.
Collectors is a utility class with many methods which can crete Collectors.

Collectors can be use to compose more complex collectors, which permits to crete a downstream.
For example methods which accepts collectors as parameters.
- collectingAndThe()
- groupingBy() / groupingByConcurrent()
- mapping()
- partitioningBy()

Collecting into a Collection
	toCollection(Supplier factory)
		- Adds the elements of the stream to a collection (created using the factory)
		- Uses encounter order  
	toList()
		- Adds the elements of the stream to a List
	toSet()
		- Adds the elements of the stream to a Set
		- Eliminates duplicates.

	toMap(Function keyMapper, Function valueMapper)
		- Creates a new Map
		- Key and value are produced by given functions
		- Use Function.identity() to get the stream element
			e.g.:

Map<Student,Double> studentToScore = students.stream()
	.collect( toMap (Functions.identity(), student -> getScore(student)) );
	
	toMap(Function keyMapper, Function valueMapper, BinaryOperator merge)
		Map<String, String> occupants = people.stream()
			.collect(toMap(Person::getAddress, Person::getName, (x,y) -> x+","+y));
			
Grouping Results
	groupingBy (Function)
		Groups stream elements using the Function into a map, the result is Map<K, List<V>>
		e.g.
		Map m = words.stream()
			.collect(Collectors.groupingBy(String::length));
	
	groupingBy(Function, Collector)
		Groups stream elements using the Function
		A reduction is performed on each group using the downstream Collector.
		e.g.:
		Map m = words.stream()
			.collect(Collectors.groupingBy(String::length, counting()))
	
Joining String results

	joining()
		Collector concatenates inputs strings
	joining(delimiter)
		Collector concatenates stream string using CharSequence delimiter
		e.g.
		collect(Collectors.joining(","))		//Creates CSV
	joining(delimiter, prefix, suffix)
		Collector concatenates the prefix, stream string separated by the delimiter and suffix.


Numeric Collectors
(NOTE: They are also available for Double and Long forms)

	averagingInt(ToIntFunction)
		Averages the results generated by the supplied function
	summarizingInt(ToIntFunction)
		Summarises (count,sum,min,max,average) results generated by supplied function
	summingInt(ToIntFunction)
		equivalent to a map() then sum()
	maxBy(Comparator), minBy(Comparator)
		Maximum or Minimum value based on a comparator

Other Collectors

	reducing(BinaryOperator)
		Equivalent to reduce() terminal operator.
		Only use for multi-level reductions, or downstream collectors.
	partitioningBy(Predicate)
		Creates a map <Boolean, List>  containing two groups base don the predicate.
	mapping(Function,Collector)
		Adapts a Collector to accept different type elements mapped by the function.
		e.g.:
		Map<City,Set<String>> lastNamesByCity = people.stream()
			.collect(groupingBy(Person::getCity,
					 mapping(Person::getLastName,toSet())));
					 